:root {
    --header-height: 60px;
    --content-padding: 20px;
    --transition-speed: 0.3s;

    --color-dark: #333;
    --color-gray-dark: #555;
    --color-gray-medium: #e2e2e2;
    --color-gray-light: #f4f4f4;
	--color-light: #fff;

    --color-overlay: rgba(255, 255, 255, 0.75);
    --color-shadow: rgba(255, 255, 255, 0.5);
    --color-transparent: #0000;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; scroll-padding-top: var(--header-height); }

body {
    font-family: arial, helvetica, sans-serif;
    line-height: 1.6;
    color: var(--color-dark);
    background-color: var(--color-light);
}

body.dark {
    --color-dark: #b0b0b0; /* header-bg, body-text */
    --color-gray-dark: #b0b0b0; /* header-bottom */
    --color-gray-medium: #444444; /* input-border */
    --color-gray-light: #333; /* side-menu-bg */
	--color-light: #121212; /* main-bg, header-text */

    --color-overlay: rgba(0, 0, 0, 0.75);
    --color-shadow: rgba(0, 0, 0, 0.5);
}

a, button /* all links */
{
    cursor: pointer; /* links without href */
    text-decoration: none; /* disable underline */
    outline: none; /* disable focus */
    color: inherit; /* disable color change */
}

header {
    display: flex;
    align-items: center;
	gap: 10px;

    position: fixed; top: 0; left: 0;
    width: 100%; height: var(--header-height);
    background-color: var(--color-dark);
    color: var(--color-light);
    border-bottom: 2px solid var(--color-gray-dark);
    padding: 0 10px;
}
header h1 {
    margin: 0 auto 0 0; /* left / 0 auto; for center */
    font-size: 1.5em; padding-left: 10px;

    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
header input {
    font-size: large;
    width: 0px;
	opacity: 0;
}
header input:focus,
header input:not(:placeholder-shown) {
    width: 100px;
	opacity: 1;
}
header input:focus + #search-toggle,
header input:not(:placeholder-shown) + #search-toggle {
    display: none;
}
header button {
	min-width: 32px; /* dont change width by flexbox on small screen */
	background-color: transparent;
    border: none;
}
header button img{
    width: 32px;
    height: 32px;
}

body {
    margin-top: var(--header-height);
    padding: var(--content-padding);
}

hr {
	border: none;
	height: 1px;
	background-color: var(--color-gray-medium);
	margin: 0.5em;
}

section > * {
	padding: 0.5em;
}

section img {
	width: auto; /* aspect ratio (width based on height) */
	max-width: 100%; /* ensures image doesn't overflow its container */
}

section#search-result {
    display: flex;
	flex-direction: column;
	align-items: flex-start;
}
section#search-result img {
	height: 32px;
	display: inline-block;
    vertical-align: middle; /* Aligns them vertically in the middle */
}
section#search-result figcaption {
    display: inline-block; /* Makes them sit side-by-side */
    vertical-align: middle; /* Aligns them vertically in the middle */
	padding-left: 10px;
}

section#folders {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
	grid-template-rows: repeat(auto-fit, minmax(100px, 1fr));
}

section#pictures {
    display: flex;
	flex-wrap: wrap;
    align-items: center; /* vertical - center to row */
	justify-content: flex-start; /* horizontal - left */
	gap: 1em;
}

section button {
	border: 1px solid var(--color-gray-dark);
	background: var(--color-gray-light);
	transition: transform var(--transition-speed) ease; /* zoom */
}

figure {
	text-align: center; /* center image if smaller than text */
}

figcaption {
    text-align: center; /* center text if smaller than image */
    word-break: break-word; /* break long words */
	text-overflow: ellipsis;
    line-height: 1.2;
}

section#folders img {
	height: 64px;
}

section#pictures img {
	height: 128px;
	/* bg image */
	background-position: center;
	background-repeat: no-repeat;
	background-size: 70%;
}
.jpeg {
	background-image: url('../images/jpeg.ico');
}
.png {
	background-image: url('../images/png.ico');
}
.bmp {
	background-image: url('../images/bmp.ico');
}

/* modal */

div#modal {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: var(--color-overlay); /* not apply opacity to child elements */
	display: none; /* switch to grid */
	grid-template-columns: 1fr; /* one column grid */
	grid-template-rows: 1fr; /* one row grid */
	z-index: 1000;
}
div#modal > * {
	grid-column: 1 / 2; /* all child insert to first cell */
	grid-row: 1 / 2; /* all child insert to first cell */
}

div#modal > *:not(img) {
	margin: 8px;
	z-index: 3000; /* over main image */
	border-radius: 12px;
	background-color: var(--color-shadow);
	box-shadow: 0px 0px 5px 5px var(--color-shadow);
}

div#modal div#buttons {
	display: flex;
	justify-content: center; /* center vertically */
	align-items: center; /* center horizontally */
	gap: 8px;
}

div#modal div#buttons img {
	height: 32px;
	cursor: pointer;
	transition: transform var(--transition-speed) ease; /* zoom */
}

div#modal div#exif {
	white-space: pre-wrap; /* PHP_EOL */
	display: none;
}

div#modal > img {
	max-width: 100%;
	max-height: 100%;
	object-fit: contain; /* image keeps its aspect ratio, but is resized to fit within the given dimension */
	z-index: 2000;
	transition: transform var(--transition-speed) ease-out; /* swipe or zoom */
	transform-origin: center;
	touch-action: none; /* Disables browsers from handling all pan and zoom interactions. This opens up the ability to custom define those interactions in JS */
}

div#modal progress#progress {
	width: 220px;
	height: 8px;
	margin: 8px;
}

/* aligning items in a flex container */
.hleft { justify-self: left; }
.hcenter { justify-self: center; }
.hright { justify-self: right; }
.vtop { align-self: start; }
.vcenter { align-self: center; }
.vbottom { align-self: end; }

/* mobile */

@media only screen and (orientation: portrait) and (max-width: 600px) {
	#info,
	#prev,
	#next,
	#download {
        display: none;
    }
}

@media only screen and (orientation: landscape) and (max-height: 600px) {
	div#modal > *:not(img) {
		margin: 0px;
	}
}

 /* disabled buttons */

.grayed {
	filter: grayscale(1.0);
	cursor: not-allowed !important;
}

 /* zoom */

@media (hover: hover) { /* screen with hover - mouse */
	section button:hover {
		transform: scale(1.5); /* thumbnail zoom */
	}
	div#modal div#buttons img:not(.grayed):hover {
		transform: scale(1.5);
	}
}

@media (hover: none) { /* screen without hover - touch */
	div#modal div#buttons img:not(.grayed):active {
		transform: scale(1.5);
	}
}
